CREATE TABLE IF NOT EXISTS MATIERE (
    id_matiere INT NOT NULL PRIMARY KEY,
    id_promo INT NOT NULL PRIMARY KEY,
    nom_matiere VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS TRAVAIL (
    id_travail INT NOT NULL PRIMARY KEY,
    id_prof CHAR(8),
    id_etudiant CHAR(8),
    id_groupe INT,
    id_matiere INT NOT NULL,
    type_travail VARCHAR(10) NOT NULL,
    date_travail DATETIME2 NOT NULL,
    description_travail VARCHAR(500) NOT NULL,
    lien_rendu VARCHAR(250),
    personnel BIT(1) NOT NULL
);

CREATE TABLE IF NOT EXISTS RENDU (
    id_etudiant CHAR(8) NOT NULL PRIMARY KEY,
    id_travail INT NOT NULL PRIMARY KEY,
    fait BIT(1) NOT NULL
);

CREATE TABLE IF NOT EXISTS CO_TOKEN (
    token VARCHAR(250) NOT NULL PRIMARY KEY,
    id_user CHAR(8) NOT NULL,
    type_user VARCHAR(4) NOT NULL,
    start_date DATETIME2 NOT NULL
);

CREATE TABLE IF NOT EXISTS PROFESSEUR (
    id_prof CHAR(8) NOT NULL PRIMARY KEY,
    nom VARCHAR(50) NOT NULL,
    prenom VARCHAR(50) NOT NULL,
    mail VARCHAR(50) NOT NULL,
    mdp VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS ETUDIANT (
    id_etudiant CHAR(8) NOT NULL PRIMARY KEY,
    nom VARCHAR(50) NOT NULL,
    prenom VARCHAR(50) NOT NULL,
    id_groupe INT NOT NULL,
    mdp VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS GROUPE (
    id_groupe INT NOT NULL PRIMARY KEY,
    id_promo INT NOT NULL,
    nom_groupe VARCHAR(20) NOT NULL
);

CREATE TABLE IF NOT EXISTS PROMOTION (
    id_promo INT NOT NULL PRIMARY KEY,
    annee VARCHAR(3) NOT NULL,
    specialite VARCHAR(10) NOT NULL
);

/*ALTER TABLE TRAVAIL ADD CONSTRAINT fk_prof FOREIGN KEY (id_prof) REFERENCES PROFESSEUR(id_prof);
ALTER TABLE TRAVAIL ADD CONSTRAINT fk_etu FOREIGN KEY (id_etudiant) REFERENCES ETUDIANT(id_etudiant);
ALTER TABLE TRAVAIL ADD CONSTRAINT fk_mat FOREIGN KEY (id_matiere) REFERENCES MATIERE(id_matiere);
ALTER TABLE ETUDIANT ADD CONSTRAINT fk_grp FOREIGN KEY (id_groupe) REFERENCES GROUPE(id_groupe);
ALTER TABLE GROUPE ADD CONSTRAINT fk_promo FOREIGN KEY (id_promo) REFERENCES PROMOTION(id_promo);*/